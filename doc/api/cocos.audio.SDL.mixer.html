
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>cocos.audio.SDL.mixer module &#8212; cocos v0.6.7 documentation</title>
    <link rel="stylesheet" href="../_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="cocos.audio.SDL.rwops module" href="cocos.audio.SDL.rwops.html" />
    <link rel="prev" title="cocos.audio.SDL.error module" href="cocos.audio.SDL.error.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cocos.audio.SDL.rwops.html" title="cocos.audio.SDL.rwops module"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="cocos.audio.SDL.error.html" title="cocos.audio.SDL.error module"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cocos</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cocos.html" >cocos package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cocos.audio.html" >cocos.audio package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cocos.audio.SDL.html" accesskey="U">cocos.audio.SDL package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-cocos.audio.SDL.mixer">
<span id="cocos-audio-sdl-mixer-module"></span><h1>cocos.audio.SDL.mixer module<a class="headerlink" href="#module-cocos.audio.SDL.mixer" title="Permalink to this headline">¶</a></h1>
<p>A simple multi-channel audio mixer.</p>
<p>It supports 8 channels of 16 bit stereo audio, plus a single channel
of music, mixed by MidMod MOD, Timidity MIDI or SMPEG MP3 libraries.</p>
<p>The mixer can currently load Microsoft WAVE files and Creative Labs VOC
files as audio samples, and can load MIDI files via Timidity and the
following music formats via MikMod: MOD, S3M, IT, XM.  It can load Ogg
Vorbis streams as music if built with the Ogg Vorbis libraries, and finally
it can load MP3 music using the SMPEG library.</p>
<p>The process of mixing MIDI files to wave output is very CPU intensive, so
if playing regular WAVE files sounds great, but playing MIDI files sounds
choppy, try using 8-bit audio, mono audio, or lower frequencies.</p>
<dl class="field-list simple">
<dt class="field-odd">note</dt>
<dd class="field-odd"><p>The music stream does not resample to the required audio rate.  You
must call <cite>Mix_OpenAudio</cite> with the sampling rate of your music track.</p>
</dd>
</dl>
<dl class="class">
<dt id="cocos.audio.SDL.mixer.Mix_Chunk">
<em class="property">class </em><code class="sig-name descname">Mix_Chunk</code><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_Chunk" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_ctypes.Structure</span></code></p>
<p>Internal format for an audio chunk.</p>
<dl class="field-list">
<dt class="field-odd">Ivariables</dt>
<dd class="field-odd"><dl>
<dt><cite>allocated</cite><span class="classifier">int</span></dt><dd><p>Undocumented.</p>
</dd>
<dt><cite>abuf</cite><span class="classifier"><cite>SDL_array</cite></span></dt><dd><p>Buffer of audio data</p>
</dd>
<dt><cite>alen</cite><span class="classifier">int</span></dt><dd><p>Length of audio buffer</p>
</dd>
<dt><cite>volume</cite><span class="classifier">int</span></dt><dd><p>Per-sample volume, in range [0, 128]</p>
</dd>
</dl>
</dd>
</dl>
<dl class="attribute">
<dt id="cocos.audio.SDL.mixer.Mix_Chunk.alen">
<code class="sig-name descname">alen</code><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_Chunk.alen" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure/Union member</p>
</dd></dl>

<dl class="attribute">
<dt id="cocos.audio.SDL.mixer.Mix_Chunk.allocated">
<code class="sig-name descname">allocated</code><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_Chunk.allocated" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure/Union member</p>
</dd></dl>

<dl class="attribute">
<dt id="cocos.audio.SDL.mixer.Mix_Chunk.volume">
<code class="sig-name descname">volume</code><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_Chunk.volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Structure/Union member</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_ChannelFinished">
<code class="sig-name descname">Mix_ChannelFinished</code><span class="sig-paren">(</span><em class="sig-param">channel_finished</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_ChannelFinished" title="Permalink to this definition">¶</a></dt>
<dd><p>Add your own callback when a channel has finished playing.</p>
<p>The callback may be called from the mixer’s audio callback or it
could be called as a result of <cite>Mix_HaltChannel</cite>, etc.</p>
<p>Do not call <cite>SDL_LockAudio</cite> from this callback; you will either be
inside the audio callback, or SDL_mixer will explicitly lock the
audio before calling your callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>channel_finished</cite><span class="classifier">function</span></dt><dd><p>The function takes the channel number as its only argument,
and returns None.  Pass None here to disable the callback.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_FadeInChannel">
<code class="sig-name descname">Mix_FadeInChannel</code><span class="sig-paren">(</span><em class="sig-param">channel</em>, <em class="sig-param">chunk</em>, <em class="sig-param">loops</em>, <em class="sig-param">ms</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_FadeInChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Fade in a channel.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><cite>channel</cite><span class="classifier">int</span></dt><dd><p>If -1, play on the first free channel.</p>
</dd>
<dt><cite>chunk</cite><span class="classifier"><cite>Mix_Chunk</cite></span></dt><dd><p>Chunk to play</p>
</dd>
<dt><cite>loops</cite><span class="classifier">int</span></dt><dd><p>If greater than zero, the number of times to play the sound;
if -1, loop infinitely.</p>
</dd>
<dt><cite>ms</cite><span class="classifier">int</span></dt><dd><p>Number of milliseconds to fade up over.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_HookMusic">
<code class="sig-name descname">Mix_HookMusic</code><span class="sig-paren">(</span><em class="sig-param">mix_func</em>, <em class="sig-param">udata</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_HookMusic" title="Permalink to this definition">¶</a></dt>
<dd><p>Add your own music player or additional mixer function.</p>
<p>If <cite>mix_func</cite> is None, the default music player is re-enabled.</p>
<dl class="simple">
<dt>:Parameters</dt><dd><dl class="simple">
<dt><cite>mix_func</cite><span class="classifier">function</span></dt><dd><p>The function must have the signature
(stream: <cite>SDL_array</cite>, udata: any) -&gt; None.  The first argument
is the array of audio data that may be modified in place.
<cite>udata</cite> is the value passed in this function.</p>
</dd>
<dt><cite>udata</cite><span class="classifier">any</span></dt><dd><p>A variable that is passed to the <cite>mix_func</cite> function each
call.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_HookMusicFinished">
<code class="sig-name descname">Mix_HookMusicFinished</code><span class="sig-paren">(</span><em class="sig-param">music_finished</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_HookMusicFinished" title="Permalink to this definition">¶</a></dt>
<dd><p>Add your own callback when the music has finished playing.</p>
<p>This callback is only called if the music finishes naturally.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>music_finished</cite><span class="classifier">function</span></dt><dd><p>The callback takes no arguments and returns no value.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_LoadWAV">
<code class="sig-name descname">Mix_LoadWAV</code><span class="sig-paren">(</span><em class="sig-param">file</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_LoadWAV" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a WAV, RIFF, AIFF, OGG or VOC file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>file</cite><span class="classifier">string</span></dt><dd><p>Filename to load.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>Mix_Chunk</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_PlayChannel">
<code class="sig-name descname">Mix_PlayChannel</code><span class="sig-paren">(</span><em class="sig-param">channel</em>, <em class="sig-param">chunk</em>, <em class="sig-param">loops</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_PlayChannel" title="Permalink to this definition">¶</a></dt>
<dd><p>Play an audio chunk on a specific channel.</p>
<dl class="field-list">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl>
<dt><cite>channel</cite><span class="classifier">int</span></dt><dd><p>If -1, play on the first free channel.</p>
</dd>
<dt><cite>chunk</cite><span class="classifier"><cite>Mix_Chunk</cite></span></dt><dd><p>Chunk to play</p>
</dd>
<dt><cite>loops</cite><span class="classifier">int</span></dt><dd><p>If greater than zero, the number of times to play the sound;
if -1, loop infinitely.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the channel that was used to play the sound.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_QuerySpec">
<code class="sig-name descname">Mix_QuerySpec</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_QuerySpec" title="Permalink to this definition">¶</a></dt>
<dd><p>Find out what the actual audio device parameters are.</p>
<p>The function returns a tuple giving each parameter value.  The first
value is 1 if the audio has been opened, 0 otherwise.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>(int, int, int, int)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(opened, frequency, format, channels)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_QuickLoad_RAW">
<code class="sig-name descname">Mix_QuickLoad_RAW</code><span class="sig-paren">(</span><em class="sig-param">mem</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_QuickLoad_RAW" title="Permalink to this definition">¶</a></dt>
<dd><p>Load raw audio data of the mixer format from a sequence or SDL_array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><cite>mem</cite>: sequence or <cite>SDL_array</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>Mix_Chunk</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_QuickLoad_WAV">
<code class="sig-name descname">Mix_QuickLoad_WAV</code><span class="sig-paren">(</span><em class="sig-param">mem</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_QuickLoad_WAV" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a wave file of the mixer format from a sequence or SDL_array.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><cite>mem</cite>: sequence or <cite>SDL_array</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><cite>Mix_Chunk</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_RegisterEffect">
<code class="sig-name descname">Mix_RegisterEffect</code><span class="sig-paren">(</span><em class="sig-param">chan</em>, <em class="sig-param">f</em>, <em class="sig-param">d</em>, <em class="sig-param">arg</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_RegisterEffect" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a special effect function.</p>
<p>At mixing time, the channel data is copied into a buffer and passed
through each registered effect function.  After it passes through all
the functions, it is mixed into the final output stream. The copy to
buffer is performed once, then each effect function performs on the
output of the previous effect. Understand that this extra copy to a
buffer is not performed if there are no effects registered for a given
chunk, which saves CPU cycles, and any given effect will be extra
cycles, too, so it is crucial that your code run fast. Also note that
the data that your function is given is in the format of the sound
device, and not the format you gave to <cite>Mix_OpenAudio</cite>, although they
may in reality be the same. This is an unfortunate but necessary speed
concern. Use <cite>Mix_QuerySpec</cite> to determine if you can handle the data
before you register your effect, and take appropriate actions.</p>
<p>You may also specify a callback (<cite>d</cite>) that is called when the channel
finishes playing. This gives you a more fine-grained control than
<cite>Mix_ChannelFinished</cite>, in case you need to free effect-specific
resources, etc. If you don’t need this, you can specify None.</p>
<p>You may set the callbacks before or after calling <cite>Mix_PlayChannel</cite>.</p>
<p>Things like <cite>Mix_SetPanning</cite> are just internal special effect
functions, so if you are using that, you’ve already incurred the
overhead of a copy to a separate buffer, and that these effects will be
in the queue with any functions you’ve registered. The list of
registered effects for a channel is reset when a chunk finishes
playing, so you need to explicitly set them with each call to
<code class="docutils literal notranslate"><span class="pre">Mix_PlayChannel*</span></code>.</p>
<p>You may also register a special effect function that is to be run after
final mixing occurs. The rules for these callbacks are identical to
those in <cite>Mix_RegisterEffect</cite>, but they are run after all the channels
and the music have been mixed into a single stream, whereas
channel-specific effects run on a given channel before any other mixing
occurs. These global effect callbacks are call “posteffects”.
Posteffects only have their <cite>d</cite> function called when they are
unregistered (since the main output stream is never “done” in the same
sense as a channel).  You must unregister them manually when you’ve had
enough. Your callback will be told that the channel being mixed is
(<cite>MIX_CHANNEL_POST</cite>) if the processing is considered a posteffect.</p>
<p>After all these effects have finished processing, the callback
registered through <cite>Mix_SetPostMix</cite> runs, and then the stream goes to
the audio device.</p>
<p>Do not call <cite>SDL_LockAudio</cite> from your callback function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><cite>chan</cite><span class="classifier">int</span></dt><dd><p>Channel to set effect on, or <cite>MIX_CHANNEL_POST</cite> for postmix.</p>
</dd>
<dt><cite>f</cite><span class="classifier">function</span></dt><dd><p>Callback function for effect.  Must have the signature
(channel: int, stream: <cite>SDL_array</cite>, udata: any) -&gt; None;
where channel is the channel being affected, stream contains
the audio data and udata is the user variable passed in to
this function.</p>
</dd>
<dt><cite>d</cite><span class="classifier">function</span></dt><dd><p>Callback function for when the effect is done.  The function
must have the signature (channel: int, udata: any) -&gt; None.</p>
</dd>
<dt><cite>arg</cite><span class="classifier">any</span></dt><dd><p>User data passed to both callbacks.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="cocos.audio.SDL.mixer.Mix_SetPostMix">
<code class="sig-name descname">Mix_SetPostMix</code><span class="sig-paren">(</span><em class="sig-param">mix_func</em>, <em class="sig-param">udata</em><span class="sig-paren">)</span><a class="headerlink" href="#cocos.audio.SDL.mixer.Mix_SetPostMix" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a function that is called after all mixing is performed.</p>
<p>This can be used to provide real-time visual display of the audio
stream or add a custom mixer filter for the stream data.</p>
<dl class="simple">
<dt>:Parameters</dt><dd><dl class="simple">
<dt><cite>mix_func</cite><span class="classifier">function</span></dt><dd><p>The function must have the signature
(stream: <cite>SDL_array</cite>, udata: any) -&gt; None.  The first argument
is the array of audio data that may be modified in place.
<cite>udata</cite> is the value passed in this function.</p>
</dd>
<dt><cite>udata</cite><span class="classifier">any</span></dt><dd><p>A variable that is passed to the <cite>mix_func</cite> function each
call.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="cocos.audio.SDL.error.html"
                        title="previous chapter">cocos.audio.SDL.error module</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="cocos.audio.SDL.rwops.html"
                        title="next chapter">cocos.audio.SDL.rwops module</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/cocos.audio.SDL.mixer.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="cocos.audio.SDL.rwops.html" title="cocos.audio.SDL.rwops module"
             >next</a> |</li>
        <li class="right" >
          <a href="cocos.audio.SDL.error.html" title="cocos.audio.SDL.error module"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">cocos</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="cocos.html" >cocos package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="cocos.audio.html" >cocos.audio package</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="cocos.audio.SDL.html" >cocos.audio.SDL package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2008-2019, cocos&#39;s team.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.0.
    </div>
  </body>
</html>